<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

  <!--radix_placeholder_meta_tags-->
  <title>Modelling with a single predictor - 2</title>
  
  
  
  <!--  https://schema.org/Article -->
  <meta property="article:published" itemprop="datePublished" content="2020-10-02"/>
  <meta property="article:created" itemprop="dateCreated" content="2020-10-02"/>
  
  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="Modelling with a single predictor - 2"/>
  <meta property="og:type" content="article"/>
  <meta property="og:locale" content="en_US"/>
  
  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="Modelling with a single predictor - 2"/>
  
  <!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","output_dir","output","date"]}},"value":[{"type":"character","attributes":{},"value":["Modelling with a single predictor - 2"]},{"type":"character","attributes":{},"value":["C:/Users/benjamcr/Rproj/GEOG3006/docs"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained","toc","toc_float","number_sections"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[true]},{"type":"logical","attributes":{},"value":[true]},{"type":"logical","attributes":{},"value":[true]}]}]},{"type":"character","attributes":{},"value":["10-02-2020"]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["imgs/brewerp.PNG","imgs/DataFlow.PNG","imgs/pipe.png","imgs/plot_ex3.PNG","Lab6_Model_files/bowser-1.9.3/bowser.min.js","Lab6_Model_files/distill-2.2.21/template.v2.js","Lab6_Model_files/figure-html5/unnamed-chunk-10-1.png","Lab6_Model_files/figure-html5/unnamed-chunk-3-1.png","Lab6_Model_files/figure-html5/unnamed-chunk-4-1.png","Lab6_Model_files/figure-html5/unnamed-chunk-5-1.png","Lab6_Model_files/figure-html5/unnamed-chunk-6-1.png","Lab6_Model_files/figure-html5/unnamed-chunk-9-1.png","Lab6_Model_files/jquery-1.11.3/jquery.min.js","Lab6_Model_files/webcomponents-2.0.0/webcomponents.js"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->
  
  <style type="text/css">
  
  body {
    background-color: white;
  }
  
  .pandoc-table {
    width: 100%;
  }
  
  .pandoc-table>caption {
    margin-bottom: 10px;
  }
  
  .pandoc-table th:not([align]) {
    text-align: left;
  }
  
  .pagedtable-footer {
    font-size: 15px;
  }
  
  .html-widget {
    margin-bottom: 2.0em;
  }
  
  .l-screen-inset {
    padding-right: 16px;
  }
  
  .l-screen .caption {
    margin-left: 10px;
  }
  
  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }
  
  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }
  
  .shaded .shaded-content {
    background: white;
  }
  
  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }
  
  .hidden {
    display: none !important;
  }
  
  d-article {
    padding-bottom: 30px;
  }
  
  d-appendix {
    padding-top: 30px;
  }
  
  d-article>p>img {
    width: 100%;
  }
  
  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }
  
  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }
  
  /* CSS for table of contents */
  
  .d-toc {
    color: rgba(0,0,0,0.8);
    font-size: 0.8em;
    line-height: 1em;
  }
  
  .d-toc-header {
    font-size: 0.6rem;
    font-weight: 400;
    color: rgba(0, 0, 0, 0.5);
    text-transform: uppercase;
    margin-top: 0;
    margin-bottom: 1.3em;
  }
  
  .d-toc a {
    border-bottom: none;
  }
  
  .d-toc ul {
    padding-left: 0;
  }
  
  .d-toc li>ul {
    padding-top: 0.8em;
    padding-left: 16px;
    margin-bottom: 0.6em;
  }
  
  .d-toc ul,
  .d-toc li {
    list-style-type: none;
  }
  
  .d-toc li {
    margin-bottom: 0.9em;
  }
  
  .d-toc-separator {
    margin-top: 20px;
    margin-bottom: 2em;
  }
  
  .d-article-with-toc {
    border-top: none;
    padding-top: 0;
  }
  
  
  
  /* Tweak code blocks (note that this CSS is repeated above in an injection
     into the d-code shadow dom) */
  
  d-code {
    overflow-x: auto !important;
  }
  
  pre.d-code code.d-code {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }
  
  pre.text-output {
  
    font-size: 12px;
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;
  
    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;
  
    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }
  
  @media(min-width: 768px) {
  
  d-code {
    overflow-x: visible !important;
  }
  
  pre.d-code code.d-code  {
      padding-left: 18px;
      font-size: 14px;
  }
  pre.text-output {
    font-size: 14px;
  }
  }
  
  /* Figure */
  
  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }
  
  .figure img {
    width: 100%;
  }
  
  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }
  
  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }
  
  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }
  
  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }
  
  
  
  /* Tweak 1000px media break to show more text */
  
  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }
  
    .grid {
      grid-column-gap: 16px;
    }
  
    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }
  
  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }
  
    .grid {
      grid-column-gap: 32px;
    }
  }
  
  
  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */
  
  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }
  
  
  /* Social footer */
  
  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }
  
  .disqus-comments {
    margin-right: 30px;
  }
  
  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }
  
  #disqus_thread {
    margin-top: 30px;
  }
  
  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }
  
  .article-sharing a:hover {
    border-bottom: none;
  }
  
  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }
  
  .subscribe p {
    margin-bottom: 0.5em;
  }
  
  
  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }
  
  
  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }
  
  .custom p {
    margin-bottom: 0.5em;
  }
  
  
  /* Improve display for browsers without grid (IE/Edge <= 15) */
  
  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }
  
  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }
  
  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }
  
  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }
  
  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }
  
  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }
  
  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }
  
  
  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }
  
  .downlevel .footnotes ol {
    padding-left: 13px;
  }
  
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }
  
  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }
  
  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }
  
  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;
  
    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;
  
    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }
  
  </style>
  
  <script type="application/javascript">
  
  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }
  
  // show body when load is complete
  function on_load_complete() {
  
    // set body to visible
    document.body.style.visibility = 'visible';
  
    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }
  
    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }
  
  function init_distill() {
  
    init_common();
  
    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);
  
    // create d-title
    $('.d-title').changeElementType('d-title');
  
    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);
  
    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();
  
    // move posts container into article
    $('.posts-container').appendTo($('d-article'));
  
    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');
  
    // create d-bibliography
    var bibliography = $('<d-bibliography></d-bibliography>');
    $('#distill-bibliography').wrap(bibliography);
  
    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;
  
    // replace citations with <d-cite>
    $('.citation').each(function(i, val) {
      appendix = true;
      var cites = $(this).attr('data-cites').split(" ");
      var dt_cite = $('<d-cite></d-cite>');
      dt_cite.attr('key', cites.join());
      $(this).replaceWith(dt_cite);
    });
    // remove refs
    $('#refs').remove();
  
    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();
  
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-toc a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });
  
    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');
  
    // replace code blocks with d-code
    $('pre>code').each(function(i, val) {
      var code = $(this);
      var pre = code.parent();
      var clz = "";
      var language = pre.attr('class');
      if (language) {
        // map unknown languages to "clike" (without this they just dissapear)
        if ($.inArray(language, ["bash", "clike", "css", "go", "html",
                                 "javascript", "js", "julia", "lua", "markdown",
                                 "markup", "mathml", "python", "svg", "xml"]) == -1)
          language = "clike";
        language = ' language="' + language + '"';
        var dt_code = $('<d-code block' + language + clz + '></d-code>');
        dt_code.text(code.text());
        pre.replaceWith(dt_code);
      } else {
        code.addClass('text-output').unwrap().changeElementType('pre');
      }
    });
  
    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {
  
      // capture layout
      var layout = $(this).attr('data-layout');
  
      // apply layout to markdown level block elements
      var elements = $(this).children().not('d-code, pre.text-output, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });
  
  
      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });
  
    // load distill framework
    load_distill_framework();
  
    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {
  
      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;
  
      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');
  
      // table of contents
      if (have_authors) // adjust border if we are in authors
        $('.d-toc').parent().addClass('d-article-with-toc');
  
      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');
  
      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }
  
      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');
  
      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");
  
      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }
  
       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }
  
      // inject pre code styles (can't do this with a global stylesheet b/c a shadow root is used)
      $('d-code').each(function(i, val) {
        var style = document.createElement('style');
        style.innerHTML = 'pre code { padding-left: 10px; font-size: 12px; border-left: 2px solid rgba(0,0,0,0.1); } ' +
                          '@media(min-width: 768px) { pre code { padding-left: 18px; font-size: 14px; } }';
        if (this.shadowRoot)
          this.shadowRoot.appendChild(style);
      });
  
      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();
  
      // clear polling timer
      clearInterval(tid);
  
      // show body now that everything is ready
      on_load_complete();
    }
  
    var tid = setInterval(distill_post_process, 50);
    distill_post_process();
  
  }
  
  function init_downlevel() {
  
    init_common();
  
     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));
  
    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
  
    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();
  
    // remove toc
    $('.d-toc-header').remove();
    $('.d-toc').remove();
    $('.d-toc-separator').remove();
  
    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });
  
  
    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);
  
    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);
  
    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();
  
    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();
  
    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));
  
    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });
  
    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));
  
    $('body').addClass('downlevel');
  
    on_load_complete();
  }
  
  
  function init_common() {
  
    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};
  
        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });
  
        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);
  
    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});
  
    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });
  
      }
    });
  
    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });
  
    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
      });
    }
  
    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');
  
    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");
  
    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();
  
    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }
  
  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });
  
  </script>
  
  <!--/radix_placeholder_distill-->
  <script src="Lab6_Model_files/jquery-1.11.3/jquery.min.js"></script>
  <script src="Lab6_Model_files/bowser-1.9.3/bowser.min.js"></script>
  <script src="Lab6_Model_files/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="Lab6_Model_files/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Modelling with a single predictor - 2","authors":[],"publishedDate":"2020-10-02T00:00:00.000+02:00"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Modelling with a single predictor - 2</h1>

</div>


<div class="d-article">
<h3 class="d-toc-header">Table of Contents</h3>
<nav class="d-toc" id="TOC">
<ul>
<li><a href="#correction-exercise">Correction exercise</a><ul>
<li><a href="#part-1-exploratory-data-analysis">Part 1: Exploratory Data Analysis</a></li>
<li><a href="#part-2---linear-regression-with-a-numerical-predictor">Part 2 - Linear regression with a numerical predictor</a></li>
<li><a href="#part-3-linear-regression-with-a-categorical-predictor">Part 3: Linear regression with a categorical predictor</a></li>
</ul></li>
<li><a href="#exercise-continuation">Exercise continuation</a></li>
</ul>
</nav>
<hr class="d-toc-separator"/>
<h1 id="correction-exercise">Correction exercise</h1>
<p>First of all, we load the libraries and open our dataset:</p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
library(tidyverse)
library(openintro)
library(broom)</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
data &lt;- openintro::evals</code></pre>
</div>
<h3 id="part-1-exploratory-data-analysis">Part 1: Exploratory Data Analysis</h3>
<p><span style="color: #9B870C;"><strong>Question 1:</strong></span> Visualize the distribution of score. Is the distribution skewed (i.e. does your data look <strong>normally distributed</strong> or are they concentrated towards certain values)? What does that tell you about how students rate courses? Is this what you expected to see? Why, or why not? Include any summary statistics and visualizations you use in your response.</p>
<p>First, we visualize the distribution of <code>score</code> by looking at its distribution. For that we can make a histogram. Here we can basically play around with <code>score</code> and visualise this variable against the for instance <code>age</code>, <code>gender</code> or <code>pic_outfit</code>.</p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
ggplot(data, aes(x=score)) + geom_histogram() + theme_bw()</code></pre>
<p><img src="Lab6_Model_files/figure-html5/unnamed-chunk-3-1.png" width="624" /></p>
</div>
<p>Even though <code>score</code> looks a bit skewed towards higher values, the shape of the histogram looks more or less <strong>normally distributed</strong>. This means that mainly the students grade the course generously. However, we need to look at the reasons explaining the low grades or the very high grades to get a more complete picture of the grading!</p>
<blockquote>
<p>Data analysis is like doing some detective work. Once we have detected a pattern we need to investigate the reasons of this pattern.</p>
</blockquote>
<p>To investigate the pattern we can have a look at how is <code>score</code> distributed relatively to the other variables by either making a <code>boxplot</code> (if the other variable is <strong>categorical</strong> or a <code>scaterplot</code> (if the other variable is <strong>numeric</strong>). To provide some examples here I plot the distribution of score against <code>age</code>, <code>pic_outfit</code> or <code>gender</code></p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
a &lt;- ggplot(data, aes(y=score, x= pic_outfit)) + geom_boxplot() + theme_bw ()
b &lt;- ggplot(data, aes(y=score, x= age)) + geom_point() + theme_bw ()
c &lt;- ggplot(data, aes(y=score, x= gender)) + geom_boxplot() + theme_bw ()
cowplot::plot_grid(a,b,c, nrow = 1)</code></pre>
<p><img src="Lab6_Model_files/figure-html5/unnamed-chunk-4-1.png" width="624" /></p>
</div>
<p>To plot multiple <code>ggplot</code> objects we can use the function <code>plot_grid</code> from the library <code>cowplot</code>. Write <code>?plot_grid</code> to get more information on the function!</p>
<p>On these plots we can see that teachers wearing formal outfits are graded higher, men teachers are graded higher than women teachers … It seems difficult to infer any trend for age - we would need to enhance the plot.</p>
<p><span style="color: #9B870C;"><strong>Question 2:</strong></span> Visualize and describe the relationship between <strong>score</strong> and <strong>bty_avg</strong>.</p>
<p>We make our plot of <code>score</code> versus <code>bty_avg</code> (diminutive of <strong>beauty average</strong>):</p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
ggplot(data, aes(y=score, x= bty_avg)) + geom_point()</code></pre>
<p><img src="Lab6_Model_files/figure-html5/unnamed-chunk-5-1.png" width="624" /></p>
</div>
<p>It looks like <code>score</code> gets higher as <code>bty_avg</code> gets higher. Nevertheless the pattern does not look so clear when plotted as it is at the moment. We can do better ➡️</p>
<p><span style="color: #9B870C;"><strong>Question 3:</strong></span> Replot the scatterplot (the point cloud) from the previous question, but this time use <code>geom_jitter()</code>? What does “jitter” mean? What was misleading about the initial scatterplot?</p>
<p>To make the pattern appear clearer we can use <code>geom_jitter</code>, function which adds a small amount of variation to the location of each points. Thus, the points will not overlap anymore and we can get a clearer picture of the distribution of the points.</p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
ggplot(data, aes(y=score, x= bty_avg)) + geom_point() + geom_jitter()</code></pre>
<p><img src="Lab6_Model_files/figure-html5/unnamed-chunk-6-1.png" width="624" /></p>
</div>
<p>Our intuition now gets stronger: the “prettier” the teacher, the higher the students will grade her / him.</p>
<h3 id="part-2---linear-regression-with-a-numerical-predictor">Part 2 - Linear regression with a numerical predictor</h3>
<p><span style="color: #9B870C;"><strong>Question 4:</strong></span> Let’s see if the apparent trend in the plot is something more than natural variation. Fit a linear model called <code>m_bty</code> to predict average professor evaluation score by average beauty rating (bty_avg). Based on the regression output, write the linear model and interpret your model</p>
<p>We wish to “predict” or explain the variable <code>score</code> by the variable <code>bty_avg</code>. Thus, <code>score</code> is our <strong>response variable</strong> while <code>bty_avg</code> is a <strong>predictor</strong> or an <strong>explanatory variable</strong> (both terminology can be used, you will also encounter the word <strong>covariate</strong>).</p>
<p>Based on this, the equation of the model look like this:</p>
<p><span class="math inline">\(score = \beta_0 + \beta_1 * beauty average + \epsilon\)</span></p>
<p><span class="math inline">\(\epsilon\)</span> being some noise normally distributed - recall the lecture on the residual values!</p>
<p>The model we are running aims to evaluate the effect of <code>bty_avg</code> and therefore tries to estimate the <span class="math inline">\(\beta_0\)</span> and the <span class="math inline">\(\beta_1\)</span> of out equation. We call them the <strong>parameters</strong>. We can run the model in R using the function <code>lm()</code>:</p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
# Fit the linear model
m_bty &lt;- lm(score ~ bty_avg, data = data)

# Get a look at the model
summary(m_bty)</code></pre>
<pre><code>
Call:
lm(formula = score ~ bty_avg, data = data)

Residuals:
    Min      1Q  Median      3Q     Max 
-1.9246 -0.3690  0.1420  0.3977  0.9309 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  3.88034    0.07614   50.96  &lt; 2e-16 ***
bty_avg      0.06664    0.01629    4.09 5.08e-05 ***
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 0.5348 on 461 degrees of freedom
Multiple R-squared:  0.03502,   Adjusted R-squared:  0.03293 
F-statistic: 16.73 on 1 and 461 DF,  p-value: 5.083e-05</code></pre>
</div>
<p>If, like me, you find the <code>summary</code> of the model overwhelming you can use the function <code>tidy</code> from the <code>broom</code> package. This gives us a more structured output at the <strong>parameters values</strong>.</p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
broom::tidy(m_bty)</code></pre>
<pre><code>
# A tibble: 2 x 5
  term        estimate std.error statistic   p.value
  &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
1 (Intercept)   3.88      0.0761     51.0  1.56e-191
2 bty_avg       0.0666    0.0163      4.09 5.08e-  5</code></pre>
</div>
<p>In the model output the <code>(Intercept)</code> represents the <span class="math inline">\(\beta_0\)</span> of our equation while the <code>bty_avg</code> represents the <span class="math inline">\(\beta_1\)</span> of the model.</p>
<p>Given the <strong>estimated values of our parameters</strong> (be careful about the vocabulary here!) we can re-write the equation previously defined:</p>
<p><span class="math inline">\(score = 3.88 + 0.0666 * beauty average + \epsilon\)</span></p>
<p>This means that if the teacher has a <code>bty_avg</code> of 0, he will still get, on average, a grade of 3.88. Moreover, for 1 more unit of bty_avg, the grade of the teacher will increase by 0.0666. Our intuition is thus confirmed: <strong>the prettier the teacher, the higher will be her / his grade on average</strong>.</p>
<p><span style="color: #9B870C;"><strong>Question 5:</strong></span> Replot your visualization from <strong>Question 3</strong>, and add the regression line to this plot in orange color. Turn off the shading for the uncertainty of the line.</p>
<p>We have 2 ways of plotting the regression line. The easiest is to use the <code>geom_smooth</code> function from <code>ggplot2</code>. However, we need to tweak a bit its arguments. First, we want the line resulting from a <strong>linear model</strong> so we need to specify <code>model = 'lm'</code> in the function. By default, <code>geom_smooth</code> use another kind of model (a generalised additive model which is a fancier version of the linear model). Then we need to turn off the uncertainty of the line. We need the specify the argument <code>se = FALSE</code> (<code>se</code> stands for <strong>standard error</strong>).</p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
ggplot(data, aes(y=score, x= bty_avg)) + 
  geom_point() +
  geom_smooth(method = &#39;lm&#39;, se = FALSE)</code></pre>
<p><img src="Lab6_Model_files/figure-html5/unnamed-chunk-9-1.png" width="624" /></p>
</div>
<p>Another way of making the line is by “predicting” what the <code>score</code> would be based on the <strong>parameter values</strong> estimated by our linear model. Basically, the <code>predict</code> function will replace the <span class="math inline">\(beautyaverage\)</span> of out equation by its value and will compute the <code>score</code>.</p>
<p>For instance, based on the linear model I can predict what the <code>score</code> would be for a <code>bty_avg</code> value of 2:</p>
<p><span class="math inline">\(score = 3.88 + 0.0666 * beauty average\)</span> <span class="math inline">\(score = 3.88 + 0.0666 * 2\)</span> <span class="math inline">\(score = 4.0132\)</span></p>
<p>The <code>predict</code> function does this automatically. In the code below, we create a new column <code>score_pred</code> with the <code>predict</code> function, then we <strong>plot the data</strong> in a first part and we <strong>plot the regression line obtained through the predictions</strong>.</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="Lab6_Model_files/figure-html5/unnamed-chunk-10-1.png" width="624" /></p>
</div>
<p>As you can see, both method gives the same output.</p>
<p><span style="color: #9B870C;"><strong>Question 6:</strong></span> Interpret the slope of the linear model in context of the data.</p>
<p>For a 1 unit increase in <code>bty_avg</code> the score will increase by 0.066 on average</p>
<p><span style="color: #9B870C;"><strong>Question 7:</strong></span> Interpret the intercept of the linear model in context of the data. Comment on whether or not the intercept makes sense in this context.</p>
<p>For a <code>bty_avg</code> of 0, the score will be of 3.88</p>
<p><span class="math inline">\(score = 3.88 + 0.0666 * beauty average\)</span> <span class="math inline">\(score = 3.88 + 0.0666 * 0\)</span> <span class="math inline">\(score = 3.88\)</span></p>
<h3 id="part-3-linear-regression-with-a-categorical-predictor">Part 3: Linear regression with a categorical predictor</h3>
<p><span style="color: #9B870C;"><strong>Question 8:</strong></span> Fit a new linear model called <code>m_gen</code> to predict average professor evaluation <code>score</code> based on <code>gender</code> of the professor. Based on the regression output, write the linear model and interpret the slope and intercept in context of the data.</p>
<p>First of all, we need to code <code>gender</code> as a <strong>dummy variable</strong>. This means that we will recode the categoris <code>male</code> and <code>female</code> into numbers. The <code>lm</code> function does this automatically. In my opinion and from my experience it is preferable to recode the variable yourself so the process is more transparent.</p>
<p>In the code below we recode <code>female</code> as 1 and <code>male</code> as 0. I use the function <code>ifelse</code> which takes 3 arguments:</p>
<ul>
<li>The condition: does X = Z?</li>
<li>The outcome if the condition is true</li>
<li>The outcome if the condition is false</li>
</ul>
<p>We translate the code below as “if gender = famale then the value is 1, otherwise the value is 0”.</p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
data$gender_recode &lt;- ifelse(data$gender == &#39;female&#39;, 1, 0)</code></pre>
</div>
<p>Now we can fit the model:</p>
<div class="layout-chunk" data-layout="l-body">
<pre class="r"><code>
m_gen &lt;- lm(score ~ gender_recode, data = data)

# Generate a tidy output with the tidy function from the broom package:
broom::tidy(m_gen)</code></pre>
<pre><code>
# A tibble: 2 x 5
  term          estimate std.error statistic p.value
  &lt;chr&gt;            &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;
1 (Intercept)      4.23     0.0330    128.   0      
2 gender_recode   -0.142    0.0508     -2.78 0.00558</code></pre>
</div>
<p>The model that we just fitted has the form:</p>
<p><span class="math inline">\(score = \beta_0 + \beta_1 * gender + \epsilon\)</span></p>
<p>We can interpret the <span class="math inline">\(\beta_0\)</span> as the average <code>score</code> for male professor and <span class="math inline">\(\beta_1\)</span> the “additional value to score” if the professor is a female.</p>
<p><span style="color: #9B870C;"><strong>Question 9:</strong></span> What is the equation of the line corresponding to male professors? What is it for female professors?</p>
<p>We can formalise what we previously said by giving the equation for both male and females:</p>
<p>Female:</p>
<p><span class="math inline">\(score_{female} = \beta_0 + \beta_1 * 1\)</span></p>
<p><span class="math inline">\(score_{female} = 4.2 - 0.14 * 1\)</span></p>
<p><span class="math inline">\(score_{female} = 4.06\)</span></p>
<p>Male:</p>
<p><span class="math inline">\(score_{male} = \beta_0 + \beta_1 * 0\)</span></p>
<p><span class="math inline">\(score_{male} = 4.2 - 0.14 * 0\)</span></p>
<p><span class="math inline">\(score_{male} = 4.2\)</span></p>
<p>On average, the students will grade a male teacher 4.2 while they will grade a female professor 4.06.</p>
<h1 id="exercise-continuation">Exercise continuation</h1>
<p>For this lab and the next one you will continue to analyze the <code>eval</code> dataset. Here, you will still work with <strong>categorical predictors</strong> and learn how to interpret it. It is very important to understand how to interpret models with categorical data, especially in the social sciences where you will be confronted to plenty of them. Here are the questions for the next lab:</p>
<p><span style="color: #9B870C;"><strong>Question 10:</strong></span> Fit a new linear model called <code>m_rank</code> to predict average professor evaluation score based on <code>rank</code> of the professor. Based on the regression output, write the linear model and interpret the slopes and intercept in context of the data.</p>
<blockquote>
<p>Hint: this time there is 3 categories …</p>
</blockquote>
<p><span style="color: #9B870C;"><strong>Question 11:</strong></span> Create a new variable called <code>rank_relevel</code> where <code>"tenure track"</code> is the baseline level.</p>
<blockquote>
<p>Hint: the baseline level would be the intercept …</p>
</blockquote>
<p><span style="color: #9B870C;"><strong>Question 12:</strong></span> Fit a new linear model called <code>m_rank_relevel</code> to predict average professor evaluation <code>score</code> based on <code>rank_relevel</code> of the professor. This is the new (releveled) variable you created in Exercise 13. Based on the regression output, write the linear model and interpret the slopes and intercept in context of the data. Also determine and interpret the <strong>R2</strong> of the model.</p>
<p><span style="color: #9B870C;"><strong>Question 13:</strong></span> Create another new variable called <code>tenure_eligible</code> that labels <code>"teaching"</code> faculty as “no” and labels <code>"tenure track"</code> and <code>"tenured"</code> faculty as <code>"yes"</code>.</p>
<p><span style="color: #9B870C;"><strong>Question 14:</strong></span> Fit a new linear model called <code>m_tenure_eligible</code> to predict average professor evaluation <code>score</code> based on <code>tenure_eligibleness</code> of the professor. This is the new (regrouped) variable you created in Exercise 15. Based on the regression output, write the linear model and interpret the slopes and intercept in context of the data. Also determine and interpret the <strong>R2</strong> of the model.</p>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
